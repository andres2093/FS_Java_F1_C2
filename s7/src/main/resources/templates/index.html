<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
<head>
    <title>Registro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <style>
        form {
            margin: 15px;
        }
        .error{
            color: red;
        }
    </style>
</head>
<body>
    <form th:action="@{/registro}" th:object="${usuario}" method="post">
<!--        <div th:if="${#fields.hasAnyErrors()}">-->
<!--            <ul>-->
<!--                <li th:each="err : ${#fields.detailedErrors()}" th:text="${err.getFieldName() + err.getMessage()}"/>-->
<!--            </ul>-->
<!--        </div>-->
        <div>
            <label class="form-label" for="nombre">Nombre: </label>
            <input class="form-control" id="nombre" type="text" th:field="*{nombre}">
            <div th:if="${#fields.hasErrors('nombre')}" th:errorClass="error" th:errors="*{nombre}"/>
        </div>
        <div>
            <label class="form-label" for="correo">Correo: </label>
            <input class="form-control" id="correo" type="email" th:field="*{correo}">
            <div th:if="${#fields.hasErrors('correo')}" th:errorClass="error" th:errors="*{correo}"/>
        </div>
        <div>
            <label class="form-label" for="usuario">Usuario: </label>
            <input class="form-control" id="usuario" type="text" th:field="*{usuario}">
            <div th:if="${#fields.hasErrors('usuario')}" th:errorClass="error" th:errors="*{usuario}"/>
        </div>
        <div>
            <label class="form-label" for="contrasenia">Contraseña: </label>
            <input class="form-control" id="contrasenia" type="password" th:field="*{contrasenia}">
            <div th:if="${#fields.hasErrors('contrasenia')}" th:errorClass="error" th:errors="*{contrasenia}"/>
        </div>
        <div>
            <label class="form-label" for="telefono">Teléfono: </label>
            <input class="form-control" id="telefono" type="tel" th:field="*{telefono}">
            <div th:if="${#fields.hasErrors('telefono')}" th:errorClass="error" th:errors="*{telefono}"/>
        </div>
        <div>
            <label class="form-label" for="rol">Rol: </label>
            <select name="rol" id="rol" th:field="*{rol}">
                <option value="admin">Administrador</option>
                <option value="client">Cliente</option>
            </select>
            <div th:if="${#fields.hasErrors('rol')}" th:errorClass="error" th:errors="*{rol}"/>
        </div>

        <input type="submit" class="btn btn-primary" th:value="Guardar">
    </form>
</body>
</html>